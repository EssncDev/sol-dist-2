{"ast":null,"code":"var _jsxFileName = \"/Users/Devdev/Desktop/JS/React/sol-dist-2/src/components/Home/Home.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport './Home.css';\nimport Header from '../Header/Header.js';\nimport { useWallet, useConnection } from '@solana/wallet-adapter-react';\nimport { Transaction, TransactionInstruction, SystemProgram } from '@solana/web3.js';\nimport toast, { Toaster } from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst notifyWaiting = () => toast.loading('Waiting...', {\n  duration: 4000,\n  position: 'bottom-left'\n});\nconst notifySuccess = text => toast.success(text, {\n  duration: 4000,\n  position: 'bottom-left'\n});\nconst notifyError = text => toast.error(text, {\n  duration: 4000,\n  position: 'bottom-left'\n});\nfunction HomeContent() {\n  _s();\n  const {\n    publicKey,\n    signTransaction\n  } = useWallet();\n  const {\n    connection\n  } = useConnection();\n  const requestBuffer = async amount => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\n    const urlencoded = new URLSearchParams();\n    urlencoded.append(\"amount\", amount * 1e9);\n    const requestOptions = {\n      method: \"POST\",\n      headers: myHeaders,\n      body: urlencoded,\n      redirect: \"follow\"\n    };\n    fetch(`http://127.0.0.1:3099/createBuffer`, requestOptions).then(async r => {\n      const res = await r.json();\n      return res.data;\n    }).catch(error => notifyError(error));\n  };\n  const sendRequest = async (recipient, amount) => {\n    const {\n      blockhash\n    } = await connection.getLatestBlockhash();\n    let trx = new Transaction({\n      \"feePayer\": publicKey,\n      \"recentBlockhash\": blockhash\n    }).add(new TransactionInstruction({\n      keys: [{\n        pubkey: publicKey,\n        isSigner: true,\n        isWritable: true\n      }, {\n        pubkey: recipient,\n        isSigner: false,\n        isWritable: true\n      }],\n      programId: SystemProgram.programId,\n      // System program\n      data: await requestBuffer(amount) // Empty data field\n    }));\n    trx = await signTransaction(trx);\n    if (trx.signatures.length > 0) {\n      console.log(trx);\n      notifySuccess(`Transaction signed!`);\n      var waitingToast = notifyWaiting();\n    }\n    const signature = trx.signature;\n    await connection.confirmTransaction(signature, \"processed\");\n    toast.dismiss(waitingToast);\n    notifySuccess(`Transaction send!`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"homeContent\",\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => sendRequest('DoNdEgu9115aCCgY74iSzVeX2XHXe9uMovgPSGDwT65c', 0.0005),\n      children: \"Test\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n_s(HomeContent, \"02FGlbf+8EZrhGliEBusw/l+pRY=\", false, function () {\n  return [useWallet, useConnection];\n});\n_c = HomeContent;\nfunction Home() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Home\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HomeContent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Toaster, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n_c2 = Home;\nexport default Home;\nvar _c, _c2;\n$RefreshReg$(_c, \"HomeContent\");\n$RefreshReg$(_c2, \"Home\");","map":{"version":3,"names":["React","Header","useWallet","useConnection","Transaction","TransactionInstruction","SystemProgram","toast","Toaster","jsxDEV","_jsxDEV","notifyWaiting","loading","duration","position","notifySuccess","text","success","notifyError","error","HomeContent","_s","publicKey","signTransaction","connection","requestBuffer","amount","myHeaders","Headers","append","urlencoded","URLSearchParams","requestOptions","method","headers","body","redirect","fetch","then","r","res","json","data","catch","sendRequest","recipient","blockhash","getLatestBlockhash","trx","add","keys","pubkey","isSigner","isWritable","programId","signatures","length","console","log","waitingToast","signature","confirmTransaction","dismiss","id","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","Home","className","_c2","$RefreshReg$"],"sources":["/Users/Devdev/Desktop/JS/React/sol-dist-2/src/components/Home/Home.js"],"sourcesContent":["import React from 'react'\nimport './Home.css';\nimport Header from '../Header/Header.js';\nimport { useWallet, useConnection } from '@solana/wallet-adapter-react';\nimport { Transaction, TransactionInstruction, SystemProgram } from '@solana/web3.js';\nimport toast, { Toaster } from 'react-hot-toast';\n\nconst notifyWaiting = () => toast.loading('Waiting...',{\n  duration: 4000,\n  position: 'bottom-left',\n});\nconst notifySuccess = (text) => toast.success(text, {\n  duration: 4000,\n  position: 'bottom-left',\n});\nconst notifyError = (text) => toast.error(text, {\n  duration: 4000,\n  position: 'bottom-left',\n});\n\nfunction HomeContent() {\n\n  const { publicKey, signTransaction } = useWallet();\n  const { connection } = useConnection();\n\n  const requestBuffer = async(amount) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\n    const urlencoded = new URLSearchParams();\n    urlencoded.append(\"amount\", amount * 1e9);\n\n    const requestOptions = {\n        method: \"POST\",\n        headers: myHeaders,\n        body: urlencoded,\n        redirect: \"follow\"\n    };\n\n    fetch(`http://127.0.0.1:3099/createBuffer`, requestOptions)\n        .then(async(r) => {\n          const res = await r.json();\n          return res.data;\n        })\n        .catch((error) => notifyError(error));\n  }\n\n  const sendRequest = async (recipient, amount) => {\n    const { blockhash } = await connection.getLatestBlockhash();\n    let trx = new Transaction({\n      \"feePayer\": publicKey,\n      \"recentBlockhash\": blockhash\n    }).add(\n      new TransactionInstruction({\n        keys: [\n          { pubkey: publicKey, isSigner: true, isWritable: true },\n          { pubkey: recipient, isSigner: false, isWritable: true }\n        ],\n        programId: SystemProgram.programId, // System program\n        data: await requestBuffer(amount) // Empty data field\n      })\n    )\n    trx = await signTransaction(trx);\n    if (trx.signatures.length > 0) {\n      console.log(trx)\n      notifySuccess(`Transaction signed!`)\n      var waitingToast = notifyWaiting()\n    }\n    const signature = trx.signature;\n    await connection.confirmTransaction(signature, \"processed\");\n    toast.dismiss(waitingToast);\n    notifySuccess(`Transaction send!`)\n  }\n\n  return (\n    <div id=\"homeContent\">\n      <button onClick={() => (sendRequest('DoNdEgu9115aCCgY74iSzVeX2XHXe9uMovgPSGDwT65c', 0.0005))}>Test</button>\n    </div>\n  )\n}\n\nfunction Home() {\n  return (\n    <div className=\"Home\">\n      <div>\n        <Header />\n        <HomeContent />\n      </div>\n      <Toaster />\n    </div>\n  );\n}\n\nexport default Home;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}